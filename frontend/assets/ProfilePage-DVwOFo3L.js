import{u as e,a as s,j as t}from"./index-CXP7xW6B.js";import{u as l,r as a}from"./react-vendor-DBkS_7n-.js";import{O as i,R as n,U as r,W as c,T as d,f as x,L as m,d as o,a2 as h,a3 as b,g as u,a4 as j,v as f,a5 as p,p as N,a6 as g,N as v,X as w,r as y,_ as k}from"./icons-uH062rYu.js";function C(){const C=l(),{user:S,logout:z,updateAvatar:T}=e(),{projects:Y,agendas:B,pendingTasks:A,scheduleItems:D}=s(),[K,M]=a.useState(!1),F=a.useRef(null),[R,_]=a.useState(!1),[P,U]=a.useState(!1),[I,E]=a.useState(!1),[H,L]=a.useState(""),[O,$]=a.useState(""),[J,W]=a.useState(""),[q,G]=a.useState(""),[Q,V]=a.useState(!1),[X,Z]=a.useState({newTask:!0,taskComplete:!0,messages:!0,reminders:!0,sound:!0,vibration:!0}),ee={assigned:Y.length+B.length+A.length,completed:Y.filter(e=>"tamamlandi"===e.status).length+A.filter(e=>"tamamlandi"===e.status).length,pending:A.filter(e=>"bekliyor"===e.status).length+D.filter(e=>"planlanmis"===e.status).length},se=e=>({baskan:"BaÅŸkan",ozel_kalem:"Ã–zel Kalem",baskan_yardimcisi:"BaÅŸkan YardÄ±mcÄ±sÄ±",mudur:"MÃ¼dÃ¼r",muhendis:"MÃ¼hendis",calisma_arkadasi:"Ã‡alÄ±ÅŸma ArkadaÅŸÄ±"}[e]||e),te=S&&["baskan","ozel_kalem"].includes(S.role);return t.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col",children:[t.jsxs("header",{className:"flex-shrink-0 bg-blue-900 text-white px-4 py-3 flex items-center justify-between",children:[t.jsx("button",{onClick:()=>C(-1),className:"p-2 hover:bg-blue-800 rounded-lg",children:t.jsx(i,{className:"w-6 h-6"})}),t.jsx("h1",{className:"font-semibold text-lg",children:"Profil"}),t.jsx("button",{onClick:()=>E(!0),className:"p-2 hover:bg-blue-800 rounded-lg",children:t.jsx(n,{className:"w-6 h-6"})})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto",children:[t.jsx("div",{className:"bg-white px-4 py-6 border-b",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsxs("div",{className:"relative mb-4",children:[S?.avatar?t.jsx("img",{src:S.avatar,alt:S.name,className:"w-24 h-24 rounded-full ring-4 ring-blue-100 object-cover"}):t.jsx("div",{className:"w-24 h-24 bg-blue-100 rounded-full flex items-center justify-center",children:t.jsx(r,{className:"w-12 h-12 text-blue-600"})}),t.jsx("button",{onClick:()=>F.current?.click(),className:"absolute bottom-0 right-0 w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center text-white shadow-lg hover:bg-blue-700 transition-colors",children:t.jsx(c,{className:"w-4 h-4"})}),t.jsx("input",{ref:F,type:"file",accept:"image/*",capture:"environment",onChange:e=>{const s=e.target.files?.[0];if(s){if(s.size>2097152)return void alert("Dosya boyutu 2MB'dan kÃ¼Ã§Ã¼k olmalÄ±dÄ±r.");const e=new FileReader;e.onload=e=>{const s=e.target?.result;T(s)},e.readAsDataURL(s)}},className:"hidden"})]}),t.jsxs("div",{className:"flex gap-2 mb-3",children:[t.jsxs("button",{onClick:()=>F.current?.click(),className:"px-3 py-1.5 bg-blue-100 text-blue-700 rounded-lg text-sm font-medium flex items-center gap-1 hover:bg-blue-200 transition-colors",children:[t.jsx(c,{className:"w-4 h-4"}),"FotoÄŸraf Ekle"]}),S?.avatar&&!S.avatar.includes("ui-avatars.com")&&t.jsxs("button",{onClick:()=>{if(S){const e=`https://ui-avatars.com/api/?name=${encodeURIComponent(S.name)}&background=1e40af&color=fff&size=150`;T(e),localStorage.removeItem(`avatar_${S.id}`)}},className:"px-3 py-1.5 bg-red-100 text-red-700 rounded-lg text-sm font-medium flex items-center gap-1 hover:bg-red-200 transition-colors",children:[t.jsx(d,{className:"w-4 h-4"}),"Sil"]})]}),t.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:S?.name}),t.jsx("p",{className:"text-slate-500",children:S&&se(S.role)}),t.jsx("p",{className:"text-sm text-slate-400 mt-1",children:S?.email}),S?.phone&&t.jsx("p",{className:"text-sm text-slate-400",children:S.phone})]})}),t.jsxs("div",{className:"bg-white px-4 py-4 border-b",children:[t.jsx("h3",{className:"text-sm font-medium text-slate-500 mb-3",children:"Ä°statistiklerim"}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-2xl font-bold text-blue-600",children:ee.assigned}),t.jsx("p",{className:"text-xs text-slate-500",children:"Toplam Ä°ÅŸ"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-2xl font-bold text-green-600",children:ee.completed}),t.jsx("p",{className:"text-xs text-slate-500",children:"Tamamlanan"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-2xl font-bold text-amber-600",children:ee.pending}),t.jsx("p",{className:"text-xs text-slate-500",children:"Bekleyen"})]})]})]}),t.jsxs("div",{className:"bg-white mt-2",children:[t.jsx("h3",{className:"px-4 py-3 text-sm font-medium text-slate-500 border-b",children:"Ayarlar"}),t.jsxs("button",{onClick:()=>E(!0),className:"w-full px-4 py-4 flex items-center justify-between hover:bg-slate-50 border-b",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(r,{className:"w-5 h-5 text-slate-600"}),t.jsx("span",{className:"text-slate-700",children:"Profil Bilgileri"})]}),t.jsx(x,{className:"w-5 h-5 text-slate-400"})]}),t.jsxs("button",{onClick:()=>_(!0),className:"w-full px-4 py-4 flex items-center justify-between hover:bg-slate-50 border-b",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(m,{className:"w-5 h-5 text-slate-600"}),t.jsx("span",{className:"text-slate-700",children:"Åžifre DeÄŸiÅŸtir"})]}),t.jsx(x,{className:"w-5 h-5 text-slate-400"})]}),t.jsxs("button",{onClick:()=>U(!0),className:"w-full px-4 py-4 flex items-center justify-between hover:bg-slate-50 border-b",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(o,{className:"w-5 h-5 text-slate-600"}),t.jsx("span",{className:"text-slate-700",children:"Bildirim AyarlarÄ±"})]}),t.jsx(x,{className:"w-5 h-5 text-slate-400"})]}),t.jsxs("div",{className:"w-full px-4 py-4 flex items-center justify-between border-b",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(h,{className:"w-5 h-5 text-slate-600"}),t.jsx("span",{className:"text-slate-700",children:"KaranlÄ±k Mod"})]}),t.jsx("button",{onClick:()=>M(!K),className:"w-12 h-6 rounded-full transition-colors "+(K?"bg-blue-600":"bg-slate-300"),children:t.jsx("div",{className:"w-5 h-5 bg-white rounded-full shadow transform transition-transform "+(K?"translate-x-6":"translate-x-0.5")})})]}),t.jsxs("button",{className:"w-full px-4 py-4 flex items-center justify-between hover:bg-slate-50 border-b",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(b,{className:"w-5 h-5 text-slate-600"}),t.jsx("span",{className:"text-slate-700",children:"Dil"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-slate-500",children:"TÃ¼rkÃ§e"}),t.jsx(x,{className:"w-5 h-5 text-slate-400"})]})]})]}),te&&t.jsxs("div",{className:"bg-white mt-2",children:[t.jsxs("h3",{className:"px-4 py-3 text-sm font-medium text-slate-500 border-b flex items-center gap-2",children:[t.jsx("span",{className:"text-amber-500",children:"ðŸ‘‘"})," YÃ¶netim (Admin)"]}),t.jsxs("button",{className:"w-full px-4 py-4 flex items-center justify-between hover:bg-slate-50 border-b",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(u,{className:"w-5 h-5 text-slate-600"}),t.jsx("span",{className:"text-slate-700",children:"KullanÄ±cÄ± YÃ¶netimi"})]}),t.jsx(x,{className:"w-5 h-5 text-slate-400"})]}),t.jsxs("button",{className:"w-full px-4 py-4 flex items-center justify-between hover:bg-slate-50 border-b",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(j,{className:"w-5 h-5 text-slate-600"}),t.jsx("span",{className:"text-slate-700",children:"Departman YÃ¶netimi"})]}),t.jsx(x,{className:"w-5 h-5 text-slate-400"})]}),t.jsxs("button",{onClick:()=>C("/raporlar"),className:"w-full px-4 py-4 flex items-center justify-between hover:bg-slate-50 border-b",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(f,{className:"w-5 h-5 text-slate-600"}),t.jsx("span",{className:"text-slate-700",children:"Raporlar"})]}),t.jsx(x,{className:"w-5 h-5 text-slate-400"})]})]}),t.jsxs("div",{className:"bg-white mt-2",children:[t.jsx("h3",{className:"px-4 py-3 text-sm font-medium text-slate-500 border-b",children:"Uygulama"}),t.jsxs("button",{className:"w-full px-4 py-4 flex items-center justify-between hover:bg-slate-50 border-b",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(p,{className:"w-5 h-5 text-slate-600"}),t.jsx("span",{className:"text-slate-700",children:"YardÄ±m & Destek"})]}),t.jsx(x,{className:"w-5 h-5 text-slate-400"})]}),t.jsxs("button",{className:"w-full px-4 py-4 flex items-center justify-between hover:bg-slate-50 border-b",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(N,{className:"w-5 h-5 text-slate-600"}),t.jsx("span",{className:"text-slate-700",children:"KullanÄ±m KoÅŸullarÄ±"})]}),t.jsx(x,{className:"w-5 h-5 text-slate-400"})]}),t.jsxs("div",{className:"w-full px-4 py-4 flex items-center justify-between border-b",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(g,{className:"w-5 h-5 text-slate-600"}),t.jsx("span",{className:"text-slate-700",children:"HakkÄ±nda"})]}),t.jsx("span",{className:"text-slate-400",children:"v1.0.0"})]})]}),t.jsx("div",{className:"p-4",children:t.jsxs("button",{onClick:()=>{z(),C("/login")},className:"w-full py-4 bg-red-50 text-red-600 rounded-xl font-medium flex items-center justify-center gap-2 hover:bg-red-100 transition-colors",children:[t.jsx(v,{className:"w-5 h-5"}),"Ã‡Ä±kÄ±ÅŸ Yap"]})}),t.jsx("div",{className:"text-center text-sm text-slate-400 pb-6",children:"Kurum Ä°ÅŸ Takip Sistemi v1.0.0"})]}),R&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:()=>_(!1)}),t.jsxs("div",{className:"fixed inset-x-4 top-1/2 -translate-y-1/2 bg-white rounded-2xl z-50 max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"p-4 border-b flex items-center justify-between",children:[t.jsxs("h2",{className:"font-semibold text-lg flex items-center gap-2",children:[t.jsx(m,{className:"w-5 h-5 text-blue-600"}),"Åžifre DeÄŸiÅŸtir"]}),t.jsx("button",{onClick:()=>_(!1),className:"p-2 hover:bg-slate-100 rounded-lg",children:t.jsx(w,{className:"w-5 h-5"})})]}),t.jsx("div",{className:"p-4 space-y-4",children:Q?t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(y,{className:"w-8 h-8 text-green-600"})}),t.jsx("p",{className:"text-green-600 font-medium",children:"Åžifre baÅŸarÄ±yla deÄŸiÅŸtirildi!"})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Mevcut Åžifre"}),t.jsx("input",{type:"password",value:H,onChange:e=>L(e.target.value),placeholder:"Mevcut ÅŸifrenizi girin",className:"w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Yeni Åžifre"}),t.jsx("input",{type:"password",value:O,onChange:e=>$(e.target.value),placeholder:"Yeni ÅŸifrenizi girin (min. 6 karakter)",className:"w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Yeni Åžifre (Tekrar)"}),t.jsx("input",{type:"password",value:J,onChange:e=>W(e.target.value),placeholder:"Yeni ÅŸifrenizi tekrar girin",className:"w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]}),q&&t.jsx("div",{className:"bg-red-50 text-red-600 px-4 py-3 rounded-xl text-sm",children:q}),t.jsxs("div",{className:"flex gap-3 pt-2",children:[t.jsx("button",{onClick:()=>_(!1),className:"flex-1 py-3 border border-slate-300 rounded-xl font-medium text-slate-700 hover:bg-slate-50",children:"Ä°ptal"}),t.jsx("button",{onClick:()=>{G(""),V(!1),"11223344"===H?O.length<6?G("Yeni ÅŸifre en az 6 karakter olmalÄ±"):O===J?(V(!0),setTimeout(()=>{_(!1),L(""),$(""),W(""),V(!1)},1500)):G("Åžifreler eÅŸleÅŸmiyor"):G("Mevcut ÅŸifre yanlÄ±ÅŸ")},className:"flex-1 py-3 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700",children:"DeÄŸiÅŸtir"})]})]})})]})]}),P&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:()=>U(!1)}),t.jsxs("div",{className:"fixed inset-x-4 top-1/2 -translate-y-1/2 bg-white rounded-2xl z-50 max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"p-4 border-b flex items-center justify-between",children:[t.jsxs("h2",{className:"font-semibold text-lg flex items-center gap-2",children:[t.jsx(o,{className:"w-5 h-5 text-blue-600"}),"Bildirim AyarlarÄ±"]}),t.jsx("button",{onClick:()=>U(!1),className:"p-2 hover:bg-slate-100 rounded-lg",children:t.jsx(w,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"p-4 space-y-1",children:[t.jsx("h3",{className:"text-sm font-medium text-slate-500 mb-2",children:"Bildirim TÃ¼rleri"}),[{key:"newTask",label:"Yeni Ä°ÅŸ AtamasÄ±",desc:"Size yeni iÅŸ atandÄ±ÄŸÄ±nda bildirim alÄ±n"},{key:"taskComplete",label:"Ä°ÅŸ Tamamlama",desc:"AtadÄ±ÄŸÄ±nÄ±z iÅŸ tamamlandÄ±ÄŸÄ±nda bildirim alÄ±n"},{key:"messages",label:"Mesajlar",desc:"Yeni mesaj geldiÄŸinde bildirim alÄ±n"},{key:"reminders",label:"HatÄ±rlatmalar",desc:"Planlanan iÅŸler iÃ§in hatÄ±rlatma alÄ±n"}].map(e=>t.jsxs("div",{className:"flex items-center justify-between py-3 border-b",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-slate-700",children:e.label}),t.jsx("p",{className:"text-sm text-slate-500",children:e.desc})]}),t.jsx("button",{onClick:()=>Z(s=>({...s,[e.key]:!s[e.key]})),className:"w-12 h-6 rounded-full transition-colors "+(X[e.key]?"bg-blue-600":"bg-slate-300"),children:t.jsx("div",{className:"w-5 h-5 bg-white rounded-full shadow transform transition-transform "+(X[e.key]?"translate-x-6":"translate-x-0.5")})})]},e.key)),t.jsx("h3",{className:"text-sm font-medium text-slate-500 mb-2 mt-4",children:"Bildirim Åžekli"}),[{key:"sound",label:"Ses",desc:"Bildirim geldiÄŸinde ses Ã§al"},{key:"vibration",label:"TitreÅŸim",desc:"Bildirim geldiÄŸinde titret"}].map(e=>t.jsxs("div",{className:"flex items-center justify-between py-3 border-b",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-slate-700",children:e.label}),t.jsx("p",{className:"text-sm text-slate-500",children:e.desc})]}),t.jsx("button",{onClick:()=>Z(s=>({...s,[e.key]:!s[e.key]})),className:"w-12 h-6 rounded-full transition-colors "+(X[e.key]?"bg-blue-600":"bg-slate-300"),children:t.jsx("div",{className:"w-5 h-5 bg-white rounded-full shadow transform transition-transform "+(X[e.key]?"translate-x-6":"translate-x-0.5")})})]},e.key)),t.jsx("div",{className:"pt-4",children:t.jsxs("button",{onClick:()=>{localStorage.setItem("notifSettings",JSON.stringify(X)),U(!1)},className:"w-full py-3 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700 flex items-center justify-center gap-2",children:[t.jsx(k,{className:"w-5 h-5"}),"Kaydet"]})})]})]})]}),I&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:()=>E(!1)}),t.jsxs("div",{className:"fixed inset-x-4 top-1/2 -translate-y-1/2 bg-white rounded-2xl z-50 max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"p-4 border-b flex items-center justify-between",children:[t.jsxs("h2",{className:"font-semibold text-lg flex items-center gap-2",children:[t.jsx(r,{className:"w-5 h-5 text-blue-600"}),"Profil Bilgileri"]}),t.jsx("button",{onClick:()=>E(!1),className:"p-2 hover:bg-slate-100 rounded-lg",children:t.jsx(w,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"p-4 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-500 mb-1",children:"Ad Soyad"}),t.jsx("p",{className:"text-lg font-medium text-slate-800",children:S?.name})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-500 mb-1",children:"Unvan"}),t.jsx("p",{className:"text-lg text-slate-800",children:S&&se(S.role)})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-500 mb-1",children:"Departman"}),t.jsx("p",{className:"text-lg text-slate-800",children:S?.department})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-500 mb-1",children:"E-posta"}),t.jsx("p",{className:"text-lg text-slate-800",children:S?.email})]}),S?.phone&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-500 mb-1",children:"Telefon"}),t.jsx("p",{className:"text-lg text-slate-800",children:S.phone})]}),t.jsx("div",{className:"pt-2 text-center text-sm text-slate-400",children:"Profil bilgilerinizi deÄŸiÅŸtirmek iÃ§in sistem yÃ¶neticisiyle iletiÅŸime geÃ§in."}),t.jsx("button",{onClick:()=>E(!1),className:"w-full py-3 bg-slate-100 text-slate-700 rounded-xl font-medium hover:bg-slate-200",children:"Kapat"})]})]})]})]})}export{C as default};
