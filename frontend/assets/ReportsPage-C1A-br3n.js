import{u as e,a as l,j as a}from"./index-CXP7xW6B.js";import{u as t,r as s}from"./react-vendor-DBkS_7n-.js";import{O as n,a7 as i,a8 as r,j as o,v as d,F as m,C as c,b as x,c as u,x as h,a9 as b,aa as g,ab as j}from"./icons-uH062rYu.js";function p(){const p=t(),{user:v}=e(),{projects:f,agendas:N,pendingTasks:y,scheduleItems:w}=l(),[k,T]=s.useState("genel"),[D,B]=s.useState("ay"),[P,G]=s.useState(!1),S={total:f.length,beklemede:f.filter(e=>"beklemede"===e.status).length,devamEdiyor:f.filter(e=>"devam_ediyor"===e.status).length,tamamlandi:f.filter(e=>"tamamlandi"===e.status).length},C={total:N.length,aktif:N.filter(e=>"aktif"===e.status).length,gorusuluyor:N.filter(e=>"gorusuluyor"===e.status).length,sonuclandi:N.filter(e=>"sonuclandi"===e.status).length,arsivlendi:N.filter(e=>"arsivlendi"===e.status).length,acil:N.filter(e=>"acil"===e.priority).length},E={total:y.length,bekliyor:y.filter(e=>"bekliyor"===e.status).length,planlanmis:y.filter(e=>"planlanmis"===e.status).length,tamamlandi:y.filter(e=>"tamamlandi"===e.status).length,randevu:y.filter(e=>"randevu"===e.type).length,talep:y.filter(e=>"talep"===e.type).length,dugun:y.filter(e=>"dugun"===e.type).length},A={total:w.length,planlanmis:w.filter(e=>"planlanmis"===e.status).length,tamamlandi:w.filter(e=>"tamamlandi"===e.status).length,iptal:w.filter(e=>"iptal"===e.status).length},$=new Date;$.setHours(0,0,0,0);const R=w.filter(e=>{const l=new Date(e.date);return l.setHours(0,0,0,0),l.getTime()===$.getTime()}),z={bugun:"Bugün",hafta:"Bu Hafta",ay:"Bu Ay",yil:"Bu Yıl",tum:"Tüm Zamanlar"},F=[{id:"genel",label:"Genel Özet",icon:d},{id:"projeler",label:"Projeler",icon:m},{id:"gundem",label:"Gündem",icon:c},{id:"bekleyen",label:"Bekleyen İşler",icon:x},{id:"program",label:"Program",icon:u}],H=({title:e,value:l,subtitle:t,icon:s,color:n="blue",trend:i})=>a.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm border border-slate-100",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsx("div",{className:`p-2.5 rounded-xl bg-gradient-to-br ${{blue:"from-blue-500 to-indigo-600",green:"from-green-500 to-emerald-600",amber:"from-amber-500 to-orange-600",red:"from-red-500 to-rose-600",purple:"from-purple-500 to-violet-600",cyan:"from-cyan-500 to-teal-600"}[n]} shadow-lg`,children:a.jsx(s,{className:"w-5 h-5 text-white"})}),i&&a.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium "+(i.value>=0?"text-green-600":"text-red-600"),children:[a.jsx(h,{className:"w-3 h-3 "+(i.value<0?"rotate-180":"")}),Math.abs(i.value),"%"]})]}),a.jsx("p",{className:"text-2xl font-bold text-slate-800",children:l}),a.jsx("p",{className:"text-sm text-slate-500 mt-1",children:e}),t&&a.jsx("p",{className:"text-xs text-slate-400 mt-0.5",children:t})]}),_=({label:e,value:l,total:t,color:s="blue"})=>{const n=t>0?l/t*100:0;return a.jsxs("div",{className:"mb-3",children:[a.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[a.jsx("span",{className:"text-slate-600",children:e}),a.jsxs("span",{className:"font-medium text-slate-800",children:[l," (",n.toFixed(0),"%)"]})]}),a.jsx("div",{className:"h-2 bg-slate-100 rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full ${{blue:"bg-blue-500",green:"bg-green-500",amber:"bg-amber-500",red:"bg-red-500",purple:"bg-purple-500"}[s]} rounded-full transition-all duration-500`,style:{width:`${n}%`}})})]})};return a.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col",children:[a.jsx("header",{className:"flex-shrink-0 bg-gradient-to-r from-indigo-900 via-blue-900 to-indigo-800 text-white px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("button",{onClick:()=>p(-1),className:"p-2 hover:bg-white/10 rounded-xl",children:a.jsx(n,{className:"w-6 h-6"})}),a.jsx("h1",{className:"font-bold text-lg",children:"Raporlar"}),a.jsx("button",{className:"p-2 hover:bg-white/10 rounded-xl",children:a.jsx(i,{className:"w-6 h-6"})})]})}),a.jsx("div",{className:"bg-white border-b px-4 py-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>G(!P),className:"flex items-center gap-2 px-4 py-2 bg-slate-100 rounded-xl text-sm font-medium text-slate-700",children:[a.jsx(r,{className:"w-4 h-4"}),z[D],a.jsx(o,{className:"w-4 h-4"})]}),P&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>G(!1)}),a.jsx("div",{className:"absolute top-full left-0 mt-2 bg-white rounded-xl shadow-xl z-20 py-2 w-40",children:Object.entries(z).map(([e,l])=>a.jsx("button",{onClick:()=>{B(e),G(!1)},className:"w-full px-4 py-2 text-left text-sm "+(D===e?"bg-blue-50 text-blue-700 font-medium":"hover:bg-slate-50"),children:l},e))})]})]}),a.jsxs("p",{className:"text-sm text-slate-500",children:["Son güncelleme: ",(new Date).toLocaleTimeString("tr-TR",{hour:"2-digit",minute:"2-digit"})]})]})}),a.jsx("div",{className:"bg-white border-b overflow-x-auto",children:a.jsx("div",{className:"flex px-2 py-2 gap-1",children:F.map(e=>{const l=e.icon;return a.jsxs("button",{onClick:()=>T(e.id),className:"flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-medium whitespace-nowrap transition-all "+(k===e.id?"bg-blue-900 text-white shadow-md":"text-slate-600 hover:bg-slate-100"),children:[a.jsx(l,{className:"w-4 h-4"}),e.label]},e.id)})})}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:["genel"===k&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(H,{title:"Toplam Proje",value:S.total,icon:m,color:"blue"}),a.jsx(H,{title:"Aktif Gündem",value:C.aktif,icon:c,color:"purple"}),a.jsx(H,{title:"Bekleyen İş",value:E.bekliyor,icon:x,color:"amber"}),a.jsx(H,{title:"Bugünkü Program",value:R.length,icon:u,color:"green"})]}),a.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm",children:[a.jsxs("h3",{className:"font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[a.jsx(h,{className:"w-5 h-5 text-blue-600"}),"Tamamlanma Durumu"]}),a.jsx(_,{label:"Projeler",value:S.tamamlandi,total:S.total,color:"blue"}),a.jsx(_,{label:"Gündem",value:C.sonuclandi,total:C.total,color:"purple"}),a.jsx(_,{label:"Bekleyen İşler",value:E.tamamlandi,total:E.total,color:"amber"}),a.jsx(_,{label:"Program",value:A.tamamlandi,total:A.total,color:"green"})]}),a.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm",children:[a.jsxs("h3",{className:"font-semibold text-slate-800 mb-3 flex items-center gap-2",children:[a.jsx(b,{className:"w-5 h-5 text-red-600"}),"Dikkat Gerektiren"]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-xl",children:[a.jsx("span",{className:"text-sm text-red-700",children:"Acil Gündem Konuları"}),a.jsx("span",{className:"font-bold text-red-700",children:C.acil})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-amber-50 rounded-xl",children:[a.jsx("span",{className:"text-sm text-amber-700",children:"Bekleyen Randevular"}),a.jsx("span",{className:"font-bold text-amber-700",children:E.randevu})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-xl",children:[a.jsx("span",{className:"text-sm text-blue-700",children:"Planlanmış İşler"}),a.jsx("span",{className:"font-bold text-blue-700",children:E.planlanmis})]})]})]})]}),"projeler"===k&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(H,{title:"Toplam",value:S.total,icon:m,color:"blue"}),a.jsx(H,{title:"Tamamlanan",value:S.tamamlandi,icon:g,color:"green"}),a.jsx(H,{title:"Devam Eden",value:S.devamEdiyor,icon:h,color:"amber"}),a.jsx(H,{title:"Beklemede",value:S.beklemede,icon:x,color:"purple"})]}),a.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm",children:[a.jsx("h3",{className:"font-semibold text-slate-800 mb-4",children:"Proje Durumu Dağılımı"}),a.jsx(_,{label:"Tamamlandı",value:S.tamamlandi,total:S.total,color:"green"}),a.jsx(_,{label:"Devam Ediyor",value:S.devamEdiyor,total:S.total,color:"amber"}),a.jsx(_,{label:"Beklemede",value:S.beklemede,total:S.total,color:"purple"})]}),a.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm",children:[a.jsx("h3",{className:"font-semibold text-slate-800 mb-3",children:"Son Projeler"}),a.jsx("div",{className:"space-y-2",children:f.slice(0,5).map(e=>a.jsxs("button",{onClick:()=>p(`/proje/${e.id}`),className:"w-full flex items-center justify-between p-3 bg-slate-50 rounded-xl hover:bg-slate-100 transition-colors",children:[a.jsx("span",{className:"text-sm font-medium text-slate-700 truncate",children:e.title}),a.jsx("span",{className:"text-xs px-2 py-1 rounded-full "+("tamamlandi"===e.status?"bg-green-100 text-green-700":"devam_ediyor"===e.status?"bg-amber-100 text-amber-700":"bg-slate-100 text-slate-600"),children:"tamamlandi"===e.status?"Tamamlandı":"devam_ediyor"===e.status?"Devam Ediyor":"Beklemede"})]},e.id))})]})]}),"gundem"===k&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(H,{title:"Toplam",value:C.total,icon:c,color:"purple"}),a.jsx(H,{title:"Aktif",value:C.aktif,icon:h,color:"blue"}),a.jsx(H,{title:"Sonuçlanan",value:C.sonuclandi,icon:g,color:"green"}),a.jsx(H,{title:"Acil",value:C.acil,icon:b,color:"red"})]}),a.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm",children:[a.jsx("h3",{className:"font-semibold text-slate-800 mb-4",children:"Gündem Durumu Dağılımı"}),a.jsx(_,{label:"Aktif",value:C.aktif,total:C.total,color:"blue"}),a.jsx(_,{label:"Görüşülüyor",value:C.gorusuluyor,total:C.total,color:"amber"}),a.jsx(_,{label:"Sonuçlandı",value:C.sonuclandi,total:C.total,color:"green"}),a.jsx(_,{label:"Arşivlendi",value:C.arsivlendi,total:C.total,color:"purple"})]}),a.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm",children:[a.jsx("h3",{className:"font-semibold text-slate-800 mb-3",children:"Son Gündem Konuları"}),a.jsx("div",{className:"space-y-2",children:N.slice(0,5).map(e=>a.jsxs("button",{onClick:()=>p(`/gundem/${e.id}`),className:"w-full flex items-center justify-between p-3 bg-slate-50 rounded-xl hover:bg-slate-100 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full "+("acil"===e.priority?"bg-red-500":"normal"===e.priority?"bg-amber-500":"bg-green-500")}),a.jsx("span",{className:"text-sm font-medium text-slate-700 truncate",children:e.title})]}),a.jsxs("span",{className:"text-xs text-slate-500",children:[e.messages.length," görüşme"]})]},e.id))})]})]}),"bekleyen"===k&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(H,{title:"Toplam",value:E.total,icon:x,color:"amber"}),a.jsx(H,{title:"Bekleyen",value:E.bekliyor,icon:b,color:"red"}),a.jsx(H,{title:"Planlanmış",value:E.planlanmis,icon:u,color:"blue"}),a.jsx(H,{title:"Tamamlanan",value:E.tamamlandi,icon:g,color:"green"})]}),a.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm",children:[a.jsx("h3",{className:"font-semibold text-slate-800 mb-4",children:"Türe Göre Dağılım"}),a.jsx(_,{label:"Randevu Talepleri",value:E.randevu,total:E.total,color:"blue"}),a.jsx(_,{label:"Vatandaş Talepleri",value:E.talep,total:E.total,color:"amber"}),a.jsx(_,{label:"Düğün/Nikah",value:E.dugun,total:E.total,color:"purple"})]}),a.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm",children:[a.jsx("h3",{className:"font-semibold text-slate-800 mb-3",children:"En Uzun Bekleyenler"}),a.jsx("div",{className:"space-y-2",children:y.filter(e=>"bekliyor"===e.status).sort((e,l)=>l.waitingDays-e.waitingDays).slice(0,5).map(e=>a.jsxs("button",{onClick:()=>p(`/bekleyen/${e.id}`),className:"w-full flex items-center justify-between p-3 bg-slate-50 rounded-xl hover:bg-slate-100 transition-colors",children:[a.jsx("span",{className:"text-sm font-medium text-slate-700 truncate",children:e.title}),a.jsxs("span",{className:"text-xs px-2 py-1 rounded-full bg-red-100 text-red-700",children:["+",e.waitingDays," gün"]})]},e.id))})]})]}),"program"===k&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(H,{title:"Toplam",value:A.total,icon:u,color:"cyan"}),a.jsx(H,{title:"Bugün",value:R.length,icon:x,color:"blue"}),a.jsx(H,{title:"Tamamlanan",value:A.tamamlandi,icon:g,color:"green"}),a.jsx(H,{title:"İptal Edilen",value:A.iptal,icon:j,color:"red"})]}),a.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm",children:[a.jsx("h3",{className:"font-semibold text-slate-800 mb-4",children:"Program Durumu"}),a.jsx(_,{label:"Planlanmış",value:A.planlanmis,total:A.total,color:"blue"}),a.jsx(_,{label:"Tamamlanan",value:A.tamamlandi,total:A.total,color:"green"}),a.jsx(_,{label:"İptal Edilen",value:A.iptal,total:A.total,color:"red"})]}),a.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm",children:[a.jsx("h3",{className:"font-semibold text-slate-800 mb-3",children:"Bugünün Programı"}),0===R.length?a.jsx("p",{className:"text-sm text-slate-500 text-center py-4",children:"Bugün için program yok"}):a.jsx("div",{className:"space-y-2",children:R.map(e=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-xl",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-700",children:e.title}),a.jsxs("p",{className:"text-xs text-slate-500",children:[e.startTime,e.endTime?` - ${e.endTime}`:""]})]}),a.jsx("span",{className:"text-xs px-2 py-1 rounded-full "+("tamamlandi"===e.status?"bg-green-100 text-green-700":"iptal"===e.status?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"),children:"tamamlandi"===e.status?"Tamamlandı":"iptal"===e.status?"İptal":"Planlandı"})]},e.id))})]})]})]}),a.jsx("div",{className:"flex-shrink-0 bg-white border-t p-4",children:a.jsxs("p",{className:"text-xs text-center text-slate-400",children:["Raporlar ",v?.name," tarafından görüntüleniyor • ",(new Date).toLocaleDateString("tr-TR")]})})]})}export{p as default};
