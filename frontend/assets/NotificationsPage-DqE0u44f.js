import{a as e,j as t}from"./index-CXP7xW6B.js";import{r as s,u as a}from"./react-vendor-DBkS_7n-.js";import{O as l,Q as r,r as n,T as i,K as c,d}from"./icons-uH062rYu.js";function o(){const[o,m]=s.useState("all"),[x,u]=s.useState(!1),h=a(),{notifications:b,markNotificationRead:f}=e(),g=(e=>{const t={},s=(new Date).toDateString(),a=new Date(Date.now()-864e5).toDateString();return e.forEach(e=>{const l=new Date(e.createdAt).toDateString();let r=l;if(l===s)r="Bugün";else if(l===a)r="Dün";else{const t=new Date(Date.now()-6048e5);r=new Date(e.createdAt)>t?"Bu Hafta":"Daha Önce"}t[r]||(t[r]=[]),t[r].push(e)}),t})(b.filter(e=>"all"===o||("unread"===o?!e.read:e.type===o))),j=e=>{switch(e){case"proje":return"bg-blue-500";case"gundem":return"bg-amber-500";case"bekleyen":return"bg-red-500";case"program":return"bg-green-500";default:return"bg-slate-500"}},p=e=>{const t=new Date(e),s=(new Date).getTime()-t.getTime(),a=Math.floor(s/6e4),l=Math.floor(s/36e5);return a<60?`${a} dk önce`:l<24?`${l} saat önce`:t.toLocaleDateString("tr-TR")};return t.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col",children:[t.jsxs("header",{className:"flex-shrink-0 bg-blue-900 text-white px-4 py-3 flex items-center justify-between",children:[t.jsx("button",{onClick:()=>h(-1),className:"p-2 hover:bg-blue-800 rounded-lg",children:t.jsx(l,{className:"w-6 h-6"})}),t.jsx("h1",{className:"font-semibold text-lg",children:"Bildirimler"}),t.jsxs("div",{className:"relative",children:[t.jsx("button",{onClick:()=>u(!x),className:"p-2 hover:bg-blue-800 rounded-lg",children:t.jsx(r,{className:"w-6 h-6"})}),x&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>u(!1)}),t.jsxs("div",{className:"absolute right-0 top-full mt-2 w-56 bg-white rounded-xl shadow-xl z-20 py-2 text-slate-700",children:[t.jsxs("button",{onClick:()=>{b.forEach(e=>{e.read||f(e.id)}),u(!1)},className:"w-full px-4 py-2 text-left hover:bg-slate-50 flex items-center gap-2",children:[t.jsx(n,{className:"w-4 h-4"})," Tümünü Okundu İşaretle"]}),t.jsxs("button",{className:"w-full px-4 py-2 text-left hover:bg-slate-50 flex items-center gap-2",children:[t.jsx(i,{className:"w-4 h-4"})," Okunmuşları Temizle"]}),t.jsxs("button",{className:"w-full px-4 py-2 text-left hover:bg-slate-50 flex items-center gap-2",children:[t.jsx(c,{className:"w-4 h-4"})," Bildirim Ayarları"]})]})]})]})]}),t.jsx("div",{className:"flex-shrink-0 p-4 bg-white border-b overflow-x-auto",children:t.jsx("div",{className:"flex gap-2",children:[{id:"all",label:"Tümü"},{id:"unread",label:"Okunmamış"},{id:"proje",label:"Projeler"},{id:"gundem",label:"Gündem"},{id:"bekleyen",label:"Bekleyen"}].map(e=>t.jsx("button",{onClick:()=>m(e.id),className:"px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors "+(o===e.id?"bg-blue-900 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"),children:e.label},e.id))})}),t.jsx("div",{className:"flex-1 overflow-y-auto",children:0===Object.keys(g).length?t.jsxs("div",{className:"text-center py-12 text-slate-500",children:[t.jsx(d,{className:"w-12 h-12 mx-auto mb-3 text-slate-300"}),t.jsx("p",{children:"Bildirim bulunamadı"})]}):Object.entries(g).map(([e,s])=>t.jsxs("div",{children:[t.jsx("div",{className:"px-4 py-2 bg-slate-100 text-sm font-medium text-slate-600",children:e}),s.map(e=>t.jsx("button",{onClick:()=>{f(e.id),e.link&&h(e.link)},className:`w-full px-4 py-4 border-b text-left transition-colors ${e.read?"bg-white":"bg-blue-50/50"} hover:bg-slate-50`,children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:`w-2.5 h-2.5 rounded-full mt-1.5 ${j(e.type)}`}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-start justify-between gap-2",children:[t.jsx("p",{className:"font-medium "+(e.read?"text-slate-700":"text-slate-900"),children:e.title}),!e.read&&t.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500 flex-shrink-0 mt-2"})]}),t.jsx("p",{className:"text-sm text-slate-600 mt-0.5",children:e.message}),t.jsx("p",{className:"text-xs text-slate-400 mt-1",children:p(e.createdAt)})]})]})},e.id))]},e))})]})}export{o as default};
