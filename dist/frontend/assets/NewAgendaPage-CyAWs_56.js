import{a as e,u as l,j as s,b as a}from"./index-CXP7xW6B.js";import{u as t,r}from"./react-vendor-DBkS_7n-.js";import{Y as i}from"./mahalleler-C9ogN-IT.js";import{O as n,_ as d,s as c}from"./icons-uH062rYu.js";function o(){const o=t(),{addAgenda:x}=e(),{user:m}=l(),[u,b]=r.useState(""),[h,p]=r.useState(""),[j,f]=r.useState("normal"),[g]=r.useState("aktif"),[N,v]=r.useState(""),[k,y]=r.useState(["1","2"]),[w,C]=r.useState(!1),S=e=>{e.preventDefault(),u.trim()?(x({title:u.trim(),description:h.trim(),priority:j,status:g,createdBy:m?.id||"",mahalle:N||void 0,visibleTo:k}),localStorage.setItem("activeTab","2"),o("/")):alert("Gündem başlığı gerekli!")};return s.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col",children:[s.jsxs("header",{className:"flex-shrink-0 bg-blue-900 text-white px-4 py-3 flex items-center justify-between",children:[s.jsx("button",{onClick:()=>o(-1),className:"p-2 hover:bg-blue-800 rounded-lg",children:s.jsx(n,{className:"w-6 h-6"})}),s.jsx("h1",{className:"font-semibold text-lg",children:"Yeni Gündem"}),s.jsx("button",{onClick:S,className:"p-2 hover:bg-blue-800 rounded-lg",children:s.jsx(d,{className:"w-6 h-6"})})]}),s.jsxs("form",{onSubmit:S,className:"flex-1 p-4 space-y-4 overflow-y-auto",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Gündem Başlığı *"}),s.jsx("input",{type:"text",value:u,onChange:e=>b(e.target.value),placeholder:"Gündem konusunu girin...",className:"w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Açıklama"}),s.jsx("textarea",{value:h,onChange:e=>p(e.target.value),placeholder:"Gündem hakkında detaylı açıklama...",rows:4,className:"w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none resize-none"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:[s.jsx(c,{className:"w-4 h-4 inline mr-1"}),"Mahalle"]}),s.jsxs("select",{value:N,onChange:e=>v(e.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none bg-white",children:[s.jsx("option",{value:"",children:"Mahalle Seçin..."}),i.map(e=>s.jsx("option",{value:e,children:e},e))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Öncelik"}),s.jsx("div",{className:"space-y-2",children:[{id:"acil",label:"ACİL",color:"bg-red-500",description:"Hemen ele alınmalı"},{id:"normal",label:"NORMAL",color:"bg-amber-500",description:"Standart öncelik"},{id:"dusuk",label:"DÜŞÜK",color:"bg-green-500",description:"Acil değil"}].map(e=>s.jsxs("label",{className:"flex items-center gap-3 p-4 border rounded-xl cursor-pointer transition-colors "+(j===e.id?"border-blue-500 bg-blue-50":"border-slate-200 hover:border-slate-300"),children:[s.jsx("input",{type:"radio",name:"priority",value:e.id,checked:j===e.id,onChange:()=>f(e.id),className:"w-5 h-5"}),s.jsx("div",{className:`w-4 h-4 rounded-full ${e.color}`}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:e.label}),s.jsx("p",{className:"text-sm text-slate-500",children:e.description})]})]},e.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Kimler Görebilsin?"}),s.jsxs("button",{type:"button",onClick:()=>C(!0),className:"w-full px-4 py-3 border border-slate-300 rounded-xl text-left flex items-center justify-between hover:bg-slate-50",children:[s.jsxs("span",{className:"text-slate-600",children:[k.length," kişi seçili"]}),s.jsx("span",{className:"text-blue-600 text-sm",children:"Düzenle"})]}),s.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Sadece seçilen kişiler ve oluşturan görebilir"})]}),s.jsx("button",{type:"submit",className:"w-full py-4 bg-blue-900 text-white font-semibold rounded-xl hover:bg-blue-800 transition-colors mt-6",children:"Gündem Oluştur"})]}),w&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:()=>C(!1)}),s.jsxs("div",{className:"fixed inset-x-4 top-1/2 -translate-y-1/2 bg-white rounded-2xl z-50 max-h-[80vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"p-4 border-b flex-shrink-0",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Kimler Görebilsin?"}),s.jsxs("p",{className:"text-sm text-slate-500",children:[k.length," kişi seçili"]})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase mb-2",children:"Başkan"}),a.filter(e=>"Başkan"===e.role).map(e=>s.jsxs("label",{className:"flex items-center gap-3 p-2 hover:bg-slate-50 rounded-lg cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:k.includes(e.id),onChange:l=>{l.target.checked?y(l=>[...l,e.id]):y(l=>l.filter(l=>l!==e.id))},className:"w-5 h-5 rounded text-blue-600"}),s.jsx("span",{className:"text-slate-700",children:e.name})]},e.id))]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase mb-2",children:"Özel Kalem"}),a.filter(e=>"Özel Kalem Müdürü"===e.role).map(e=>s.jsxs("label",{className:"flex items-center gap-3 p-2 hover:bg-slate-50 rounded-lg cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:k.includes(e.id),onChange:l=>{l.target.checked?y(l=>[...l,e.id]):y(l=>l.filter(l=>l!==e.id))},className:"w-5 h-5 rounded text-blue-600"}),s.jsx("span",{className:"text-slate-700",children:e.name})]},e.id))]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase mb-2",children:"Başkan Yardımcıları"}),a.filter(e=>"Bşk. Yrd."===e.role).map(e=>s.jsxs("label",{className:"flex items-center gap-3 p-2 hover:bg-slate-50 rounded-lg cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:k.includes(e.id),onChange:l=>{l.target.checked?y(l=>[...l,e.id]):y(l=>l.filter(l=>l!==e.id))},className:"w-5 h-5 rounded text-blue-600"}),s.jsx("span",{className:"text-slate-700",children:e.name})]},e.id))]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase mb-2",children:"Müdürler"}),a.filter(e=>e.role.includes("Md.")).map(e=>s.jsxs("label",{className:"flex items-center gap-3 p-2 hover:bg-slate-50 rounded-lg cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:k.includes(e.id),onChange:l=>{l.target.checked?y(l=>[...l,e.id]):y(l=>l.filter(l=>l!==e.id))},className:"w-5 h-5 rounded text-blue-600"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-700 block",children:e.name}),s.jsx("span",{className:"text-xs text-slate-400",children:e.role})]})]},e.id))]})]}),s.jsxs("div",{className:"p-4 border-t flex gap-2 flex-shrink-0",children:[s.jsx("button",{type:"button",onClick:()=>C(!1),className:"flex-1 py-3 border rounded-xl hover:bg-slate-50",children:"İptal"}),s.jsx("button",{type:"button",onClick:()=>C(!1),className:"flex-1 py-3 bg-blue-900 text-white rounded-xl",children:"Tamam"})]})]})]})]})}export{o as default};
